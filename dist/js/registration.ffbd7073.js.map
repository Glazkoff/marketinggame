{"version":3,"sources":["webpack:///./src/components/Registration.vue?b28f","webpack:///./src/components/Registration.vue?b58c","webpack:///src/components/Registration.vue","webpack:///./src/components/Registration.vue?827d","webpack:///./src/components/Registration.vue?9a5b"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","serverSuccess","_e","staticClass","_v","on","$event","preventDefault","loading","directives","name","rawName","value","$v","expression","modifiers","class","$error","serverError","domProps","onFormClick","target","composing","$set","trim","$forceUpdate","required","login","_s","password","$invalid","tryRegister","staticRenderFns","data","components","Loader","validations","methods","component"],"mappings":"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","file":"js/registration.ffbd7073.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=style&index=0&id=38501b2c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=style&index=0&id=38501b2c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"entr\"}},[(!_vm.serverSuccess)?_c('div',{staticClass:\"card container col-lg-4 col-md-6 col-sm-10 col-xl-4 p-4\"},[_c('h3',{staticClass:\"mb-4\"},[_vm._v(\"Создайте учётную запись\")]),(_vm.loading)?_c('div',{staticClass:\"centered-box\"},[_c('Loader')],1):_vm._e(),_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[(!_vm.loading)?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Ваше имя\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.$v.name.$model),expression:\"$v.name.$model\",modifiers:{\"trim\":true}}],staticClass:\"form-control form-control-lg\",class:{ 'is-invalid': _vm.$v.name.$error || _vm.serverError },attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\",\"placeholder\":\"Введите имя\"},domProps:{\"value\":(_vm.$v.name.$model)},on:{\"click\":function($event){return _vm.onFormClick()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.name, \"$model\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),(!_vm.$v.name.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Обязательно введите имя! \")]):_vm._e()]):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Логин\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.$v.login.$model),expression:\"$v.login.$model\",modifiers:{\"trim\":true}}],staticClass:\"form-control form-control-lg\",class:{ 'is-invalid': _vm.$v.login.$error || _vm.serverError },attrs:{\"type\":\"text\",\"name\":\"login\",\"id\":\"login\",\"placeholder\":\"Введите логин\"},domProps:{\"value\":(_vm.$v.login.$model)},on:{\"click\":function($event){return _vm.onFormClick()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.login, \"$model\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),(!_vm.$v.login.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Обязательно введите логин! \")]):_vm._e(),_c('small',{staticClass:\"form-text text-danger\"},[_vm._v(\" \"+_vm._s(_vm.serverError)+\" \")])]):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Пароль\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.$v.password.$model),expression:\"$v.password.$model\",modifiers:{\"trim\":true}}],staticClass:\"form-control form-control-lg\",class:{ 'is-invalid': _vm.$v.password.$error || _vm.serverError },attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\"Введите пароль\"},domProps:{\"value\":(_vm.$v.password.$model)},on:{\"click\":function($event){return _vm.onFormClick()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.$v.password, \"$model\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),(!_vm.$v.password.required)?_c('div',{staticClass:\"invalid-feedback\"},[_vm._v(\" Обязательно введите пароль! \")]):_vm._e()]):_vm._e(),_c('button',{staticClass:\"btn btn-lg btn-primary btn-block\",attrs:{\"disabled\":_vm.$v.$invalid || _vm.loading},on:{\"click\":function($event){return _vm.tryRegister()}}},[_vm._v(\" Зарегистрироваться \")]),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" Есть учётная запись? \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Войдите!\")])],1)])]):_vm._e(),(_vm.serverSuccess)?_c('div',{staticClass:\"card container col-lg-4 col-md-6 col-sm-10 col-xl-4 p-4 alert alert-success\"},[_c('h3',{staticClass:\"mb-4\"},[_vm._v(\"Учётная запись успешно создана!\")]),_c('div',{staticClass:\"form-group\"},[_c('router-link',{staticClass:\"btn btn-lg btn-success btn-block\",attrs:{\"to\":\"/\",\"tag\":\"button\"},on:{\"click\":function($event){return _vm.tryRegister()}}},[_vm._v(\" Вернуться на главную\")])],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"entr\">\r\n    <div\r\n      class=\"card container col-lg-4 col-md-6 col-sm-10 col-xl-4 p-4\"\r\n      v-if=\"!serverSuccess\"\r\n    >\r\n      <h3 class=\"mb-4\">Создайте учётную запись</h3>\r\n      <div class=\"centered-box\" v-if=\"loading\">\r\n        <Loader></Loader>\r\n      </div>\r\n      <form action @submit.prevent>\r\n        <div class=\"form-group\" v-if=\"!loading\">\r\n          <label for=\"name\" class>Ваше имя</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n            v-model.trim=\"$v.name.$model\"\r\n            :class=\"{ 'is-invalid': $v.name.$error || serverError }\"\r\n            class=\"form-control form-control-lg\"\r\n            placeholder=\"Введите имя\"\r\n            @click=\"onFormClick()\"\r\n          />\r\n          <div v-if=\"!$v.name.required\" class=\"invalid-feedback\">\r\n            Обязательно введите имя!\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\" v-if=\"!loading\">\r\n          <label for=\"name\" class>Логин</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"login\"\r\n            id=\"login\"\r\n            class=\"form-control form-control-lg\"\r\n            :class=\"{ 'is-invalid': $v.login.$error || serverError }\"\r\n            placeholder=\"Введите логин\"\r\n            v-model.trim=\"$v.login.$model\"\r\n            @click=\"onFormClick()\"\r\n          />\r\n          <div v-if=\"!$v.login.required\" class=\"invalid-feedback\">\r\n            Обязательно введите логин!\r\n          </div>\r\n          <small class=\"form-text text-danger\">\r\n            {{ serverError }}\r\n          </small>\r\n        </div>\r\n\r\n        <div class=\"form-group\" v-if=\"!loading\">\r\n          <label for=\"name\" class>Пароль</label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            class=\"form-control form-control-lg\"\r\n            :class=\"{ 'is-invalid': $v.password.$error || serverError }\"\r\n            placeholder=\"Введите пароль\"\r\n            v-model.trim=\"$v.password.$model\"\r\n            @click=\"onFormClick()\"\r\n          />\r\n          <div v-if=\"!$v.password.required\" class=\"invalid-feedback\">\r\n            Обязательно введите пароль!\r\n          </div>\r\n        </div>\r\n        <button\r\n          class=\"btn btn-lg btn-primary btn-block\"\r\n          @click=\"tryRegister()\"\r\n          :disabled=\"$v.$invalid || loading\"\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n        <small class=\"form-text text-muted\">\r\n          Есть учётная запись?\r\n          <router-link to=\"/\">Войдите!</router-link>\r\n        </small>\r\n      </form>\r\n    </div>\r\n    <div\r\n      class=\"card container col-lg-4 col-md-6 col-sm-10 col-xl-4 p-4 alert alert-success\"\r\n      v-if=\"serverSuccess\"\r\n    >\r\n      <h3 class=\"mb-4\">Учётная запись успешно создана!</h3>\r\n      <div class=\"form-group\">\r\n        <router-link\r\n          to=\"/\"\r\n          tag=\"button\"\r\n          class=\"btn btn-lg btn-success btn-block\"\r\n          @click=\"tryRegister()\"\r\n        >\r\n          Вернуться на главную</router-link\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { required } from \"vuelidate/lib/validators\";\r\nimport Loader from \"@/components/Loader.vue\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Registration\",\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      login: \"\",\r\n      password: \"\",\r\n      serverSuccess: false,\r\n      serverError: \"\",\r\n      loading: false\r\n    };\r\n  },\r\n  components: {\r\n    Loader\r\n  },\r\n  validations: {\r\n    name: {\r\n      required\r\n    },\r\n    login: {\r\n      required\r\n    },\r\n    password: {\r\n      required\r\n    }\r\n  },\r\n  methods: {\r\n    tryRegister() {\r\n      let regData = {\r\n        name: this.name,\r\n        login: this.login,\r\n        password: this.password\r\n      };\r\n      this.loading = true;\r\n      axios\r\n        .post(process.env.VUE_APP_API_URL + \"/register\", regData)\r\n        .then(res => {\r\n          this.loading = false;\r\n          this.serverSuccess = true;\r\n          console.log(\"REGISTRATION:\", res);\r\n        })\r\n        .catch(err => {\r\n          this.loading = false;\r\n          if (err.data !== undefined) {\r\n            this.serverError = err.data.message;\r\n          }\r\n          console.log(\"ERROR:\", err);\r\n        });\r\n    },\r\n    onFormClick() {\r\n      this.serverError = \"\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#entr {\r\n  height: 100vh;\r\n  display: grid;\r\n  place-items: center;\r\n}\r\n.centered-box {\r\n  width: 100%;\r\n  display: grid;\r\n  place-items: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Registration.vue?vue&type=template&id=38501b2c&scoped=true&\"\nimport script from \"./Registration.vue?vue&type=script&lang=js&\"\nexport * from \"./Registration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Registration.vue?vue&type=style&index=0&id=38501b2c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38501b2c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}